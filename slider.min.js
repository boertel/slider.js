(function(d,a,f){var b={getComputedStyle:function(j,h){var g;if(typeof(j.currentStyle)!="undefined"){g=j.currentStyle}else{g=a.defaultView.getComputedStyle(j,null)}return g[h]},getElementsByClassName:function(h,g){g=g||a.body;return g.getElementsByClassName(h)},indexOf:function(h,g){return h.indexOf(g)}},e={width:{style:"marginLeft",key:{previous:[37],next:[39]}},height:{style:"marginTop",key:{previous:[38],next:[40]}}};function c(){var k,j={},g=Array.prototype.slice.call(arguments),h=g.shift();while(h){type=typeof h;if(type==="string"){k=a.getElementById(h)}else{j=h}h=g.shift()}this.index=j.index||0;this.current=f;this.length=0;this.loop=j.loop||false;this.hide=(j.hide===false)?false:true;this.property=(j.property==="height")?"height":"width";this.animation=(j.animation===false||!$)?false:true;j.duration=j.duration||{};this.duration={timeout:f,animation:j.duration.effect||450,pause:j.duration.pause||1000};j.node=j.node||{};j.node.wrapper=j.node.wrapper||j.wrapper||k;this.node={wrapper:j.node.wrapper,slides:f,slide:f,pagination:j.node.pagination,page:f,next:j.node.next,previous:j.node.previous};this.findNodes();this.positions=[];j.key=j.key||{};this.key={enable:(j.key.enable===false)?false:true,previous:j.key.previous||e[this.property].key.previous,next:j.key.next||e[this.property].key.next};this.run()}c.prototype.run=function(){this.css();this.bind();this.parse();this.move();return this};c.prototype.findNodes=function(){this.node.slides=this.node.slides||b.getElementsByClassName("slides",this.node.wrapper)[0];this.node.slide=this.node.slides.children;this.node.pagination=this.node.pagination||b.getElementsByClassName("pagination",this.node.wrapper)[0];if(this.node.pagination){this.node.page=b.getElementsByClassName("page",this.node.pagination)}else{this.node.page=[]}this.node.next=this.node.next||b.getElementsByClassName("next",this.node.wrapper)[0]||{};this.node.previous=this.node.previous||b.getElementsByClassName("previous",this.node.wrapper)[0]||{}};c.prototype.css=function(){this.node.wrapper.style.overflow="hidden";this.node.slides.style.overflow="hidden"};c.prototype.parse=function(){var g,k,j=0;this.positions=[];this.length=this.node.slide.length;for(var h=0;h<this.length;h+=1){g=this.node.slide[h];if(this.property==="width"){g.style.cssFloat="left"}k=parseInt(b.getComputedStyle(g,this.property),10);this.positions.push(j);j+=k}this[this.property]=j;this.node.wrapper.style[this.property]=k+"px";this.node.slides.style[this.property]=j+"px"};c.prototype.pagination=function(){var g,k,l,j,h=this;if(this.hide!==false){if(this.node.previous.style){if(this.first){this.node.previous.style.display="none"}else{this.node.previous.style.display="block"}}if(this.node.next.style){if(this.last){this.node.next.style.display="none"}else{this.node.next.style.display="block"}}}j=this.node.page.length;if(j>0){for(g=0;g<j;g+=1){l=this.node.page[g].className;this.node.page[g].className=l.replace(" current","")}this.node.page[this.index].className+=" current"}};c.prototype.bind=function(){var h=this,g=a.onkeydown;this.node.next.onclick=function(){h.next()};this.node.previous.onclick=function(){h.previous()};a.onkeydown=function(j){g&&g(j);if(h.key.enable){if(h.key.next&&(b.indexOf(h.key.next,j.keyCode)!==-1)){h.next()}if(h.key.previous&&(b.indexOf(h.key.previous,j.keyCode)!==-1)){h.previous()}}};for(i=0;i<this.node.page.length;i+=1){page=this.node.page[i];page.onclick=function(j){return function(k){h.index=j;h.move();return false}}(i)}};c.prototype.resume=function(){var g=this;if(this.loop){this.duration.timeout=d.setTimeout(function(){g.index=(g.index===g.length-1)?-1:g.index;g.next(false);g.resume()},this.duration.pause)}};c.prototype.pause=function(){d.clearInterval(this.duration.timeout)};c.prototype.next=function(g){this.events.trigger("next.before",this);this.events.trigger("move.before",this);this.index+=(this.index>=(this.length-1))?0:1;this.last=(this.index===this.length-1);this.events.trigger("next",this);this.move(g)};c.prototype.previous=function(g){this.events.trigger("previous.before",this);this.events.trigger("move.before",this);this.index-=(this.index<=0)?0:1;this.first=(this.index===0);this.events.trigger("previous",this);this.move(g)};c.prototype.move=function(k){var g,j=this,h=e[this.property].style,l=-this.positions[this.index];if(k!==false){this.pause();this.resume()}this.current=this.node.slide[this.index];this.pagination();j.events.trigger("move",this);if(this.animation&&$){g={};g[h]=l;$(this.node.slides).stop().animate(g,{duration:this.duration.animation,complete:function(){j.events.trigger("animate.after",j)}})}else{this.node.slides.style[h]=l+"px"}j.events.trigger("animate",this)};c.prototype.events={_listeners:{},bind:function(g,h){this._listeners[g]=this._listeners[g]||[];this._listeners[g].push(h)},unbind:function(g){this._listeners[g]=[]},trigger:function(g,j){this._listeners[g]=this._listeners[g]||[];for(var h=0;h<this._listeners[g].length;h+=1){this._listeners[g][h].call(j,g)}}};c.prototype.remove=function(g){var h=(g===f||g<0||g>this.length)?this.current:this.node.slide[g];this.node.slides.removeChild(h);this.parse()};d.Slider=c})(window,document);