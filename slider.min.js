(function(d,a,f){var b={getComputedStyle:function(j,h){var g;if(typeof(j.currentStyle)!="undefined"){g=j.currentStyle}else{g=a.defaultView.getComputedStyle(j,null)}return g[h]},getElementsByClassName:function(h,g){g=g||a.body;return g.getElementsByClassName(h)},indexOf:function(h,g){return h.indexOf(g)}},e={width:{style:"marginLeft",key:{previous:[37],next:[39]}},height:{style:"marginTop",key:{previous:[38],next:[40]}},opacity:{style:"opacity",key:{previous:[189],next:[187]}}};function c(h,g){h=(typeof h==="string")?a.getElementById(h):h;g=g||{};this.index=g.index||0;this.current=f;this.length=0;this.loop=g.loop||false;this.hide=(g.hide===false)?false:true;if(b.indexOf(["height","width","opacity"],g.property)===-1){g.property="width"}this.property=g.property;this.animation=(g.animation===false||!$)?false:true;g.duration=g.duration||{};this.duration={timeout:f,animation:g.duration.effect||450,pause:g.duration.pause||1000};g.node=g.node||{};g.node.wrapper=h;this.node={wrapper:g.node.wrapper,slides:f,slide:f,pagination:g.node.pagination,page:f,next:g.node.next,previous:g.node.previous};this.findNodes();this.positions=[];g.key=g.key||{};this.key={enable:(g.key.enable===false)?false:true,previous:g.key.previous||e[this.property].key.previous,next:g.key.next||e[this.property].key.next};this.run()}c.prototype.run=function(){this.css();this.bind();this.parse();this.move();return this};c.prototype.findNodes=function(){this.node.slides=this.node.slides||b.getElementsByClassName("slides",this.node.wrapper)[0];this.node.slide=this.node.slides.children;this.node.pagination=this.node.pagination||b.getElementsByClassName("pagination",this.node.wrapper)[0];if(this.node.pagination){this.node.page=b.getElementsByClassName("page",this.node.pagination)}else{this.node.page=[]}this.node.next=this.node.next||b.getElementsByClassName("next",this.node.wrapper)[0]||{};this.node.previous=this.node.previous||b.getElementsByClassName("previous",this.node.wrapper)[0]||{}};c.prototype.css=function(){this.node.wrapper.style.overflow="hidden";this.node.slides.style.overflow="hidden";if(this.property==="opacity"){this.node.slides.style.position="relative"}};c.prototype.parse=function(){var g,k,j=0;this.positions=[];this.length=this.node.slide.length;for(var h=0;h<this.length;h+=1){g=this.node.slide[h];if(this.property==="width"){g.style.cssFloat="left";g.style.styleFloat="left"}if(this.property==="opacity"){g.style.opacity=0;g.style.position="absolute";g.style.top="0px";g.style.left="0px"}else{k=parseInt(b.getComputedStyle(g,this.property),10);this.positions.push(j);j+=k}}if(this.property!=="opacity"){this[this.property]=j;this.node.slides.style[this.property]=j+"px"}};c.prototype.pagination=function(){var g,k,l,j,h=this;if(this.hide!==false){if(this.node.previous.style){if(this.first){this.node.previous.style.display="none"}else{this.node.previous.style.display="block"}}if(this.node.next.style){if(this.last){this.node.next.style.display="none"}else{this.node.next.style.display="block"}}}j=this.node.page.length;if(j>0){for(g=0;g<j;g+=1){l=this.node.page[g].className;this.node.page[g].className=l.replace(" current","")}this.node.page[this.index].className+=" current"}};c.prototype.bind=function(){var h=this,g=a.onkeydown;this.node.next.onclick=function(){h.next()};this.node.previous.onclick=function(){h.previous()};function j(l){var k=l.keyCode||l.which;g&&g(l);if(h.key.enable){if(h.key.next&&(b.indexOf(h.key.next,k)!==-1)){h.next()}if(h.key.previous&&(b.indexOf(h.key.previous,k)!==-1)){h.previous()}}}if(a.addEventListener){a.addEventListener("keydown",j)}else{a.attachEvent("onkeydown",j)}for(i=0;i<this.node.page.length;i+=1){page=this.node.page[i];page.onclick=function(k){return function(l){h.index=k;h.move();return false}}(i)}};c.prototype.pause=function(){d.clearInterval(this.duration.timeout)};c.prototype.resume=function(){var g=this;if(this.loop){this.duration.timeout=d.setTimeout(function(){g.cycle();g.resume()},this.duration.pause)}};c.prototype.cycle=function(){this.before=this.node.slide[this.index];this.index=(this.index===this.length-1)?-1:this.index;this.index+=(this.index>=(this.length-1))?0:1;this.move(false)};c.prototype.next=function(g){this.events.trigger("next.before",this);this.before=this.node.slide[this.index];this.index+=(this.index>=(this.length-1))?0:1;if(this.last){return}this.events.trigger("next",this);this.move(g)};c.prototype.previous=function(g){this.events.trigger("previous.before",this);this.before=this.node.slide[this.index];this.index-=(this.index<=0)?0:1;if(this.first){return}this.events.trigger("previous",this);this.move(g)};c.prototype.move=function(g){if(g!==false){this.pause();this.resume()}this.current=this.node.slide[this.index];this.first=(this.index===0);this.last=(this.index===this.length-1);this.pagination();this.events.trigger("move",this);this.animate()};c.prototype.animate=function(){var g,j=this,h=e[this.property].style,k=-this.positions[this.index];if(this.property!=="opacity"){if(this.animation&&$){g={};g[h]=k;$(this.node.slides).stop().animate(g,{duration:this.duration.animation,complete:function(){j.events.trigger("animate.after",j)}})}else{this.node.slides.style[h]=k+"px"}}else{if(this.animation&&$){g={};g[h]=1;options={duration:this.duration.animation,complete:function(){j.events.trigger("animate.after",j)}};$(this.current).stop().animate(g,options);$(this.before).stop().animate({opacity:0},options)}else{this.current.style.opacity=1;this.before&&(this.before.style.opacity=0)}}this.events.trigger("animate",this)};c.prototype.events={_listeners:{},bind:function(g,h){this._listeners[g]=this._listeners[g]||[];this._listeners[g].push(h)},unbind:function(g){this._listeners[g]=[]},trigger:function(g,j){this._listeners[g]=this._listeners[g]||[];for(var h=0;h<this._listeners[g].length;h+=1){this._listeners[g][h].call(j,g)}}};c.prototype.remove=function(g){var h=(g===f||g<0||g>this.length)?this.current:this.node.slide[g];this.node.slides.removeChild(h);this.parse()};c.prototype.insert=function(j,h){var g=(h===f||h<0||h>this.length)?this.current:this.node.slide[h];this.node.slides.insertBefore(j,g);this.parse()};d.Slider=c})(window,document);